---
title: 面试经历
tags:
  - 面试
categories: 
  - Android
date: 2020-03-03
---

最近国内开始春招，我也开始疯狂的投简历。虽然因为🇬🇧这边课程任务仍然十分紧张，没有足够的时间好好准备面试，但是还是收到了华为、字跳、阿里、腾讯等的面试机会。在此总结一下我在各个公司碰到的面试题目与解答，为以后做好准备。

<!-- more -->

## 华为海思

## 字节跳动

1. 算法题：

    输入一维数组array和n，找出和值为 n 的任意两个元素。例如：

    array = [2, 3, 1, 10, 4, 30]

    n = 31

    则结果应该输出1, 30 顺序不重要

    如果有多个满足条件的，返回任意一对即可。要求空间复杂度为 O(1)。

2. 自我介绍

3. 公司负责了哪些工作？怎么重构的？

4. MVP和MVC的区别？Model层的作用呢？

5. UI界面有哪些布局？

6. 约束布局与相对布局有什么不同？

7. 线性布局：如果有两个控件，一个宽度固定，一个宽度不固定，怎么让它们横向充满整个父布局？

8. RecyclerView有100个item，怎么让它们显示出来还不会内存溢出？怎么直接跳转到第53个item？

9. Handler的消息传递机制

10. Activity的生命周期？启动方式？

11. 从Activity A跳转到Activity B，两个Activity的生命周期？

12. Service的启动方式？

13. Broadcast的相关知识点？

14. Java有哪几种引用？

15. 接触过哪些容器类？HashMap的原理有了解吗？如果Hash值计算相同，会发生哈希碰撞吗？怎么解决？

16. 泛型的原理与使用

17. http与https的区别

18. https是怎么加密的

19. 死锁是什么？死锁的条件

20. 操作系统的进程调度策略有哪些？

    FCFS（先来先服务）、优先级、时间片轮转、多级反馈

21. 数据库的索引，主键与事务

22. 数据库的`join()`方法

## 微信读书

## 腾讯教育

1. 自我介绍      

2. 实习经历简介，负责了哪些？

3. MVP模式

    模型层（Model）：主要是获取数据功能，业务逻辑和实体模型。

    视图层（View）：对应于Activity或Fragment，负责视图的部分展示和业务逻辑用户交互。

    控制层（Presenter）：负责完成View层与Model层之间的交互，通过Presenter获取Model的数据返回给View，使得View与Model之间没有耦合。

4. 网络请求框架有了解过内部的原理吗？ 

5. 主线程怎么把数据交给子线程？Handler和AsyncTask？

6. 除了约束布局，还有什么线性布局还是相对布局？它们之间的区别是什么？

    LinearLayout是将多个View水平或者垂直排列；RelativeLayout可以通过确定两个或多个组件的相对位置来摆放组件。

7. 有没有遇到过一个布局中嵌套的布局非常多？会出现什么情况？

    Android界面的布局太复杂，嵌套层次过深，会使得整个界面的测量、布局和绘制变得更复杂，对性能会造成影响。

8. 有没有遇到过界面卡顿的情况吗？ 什么情况会造成界面卡顿？

9. View的绘制流程？执行的顺序？

10. 有没有了解过一些事件传递机制？

11. Java虚拟机有哪几种内存？哪些内存是独立的，哪些是共享的？方法区分为哪些？

    方法区（线程共享）：各个线程共享的一个区域，用于存储虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。**运行时常量池**是方法区的一部分，用于存放编译器生成的各种字面量和符号引用。

12. HashMap的原理？`put`方法发生冲突会怎么样？

13. 垃圾回收机制？怎么判断什么时候会被回收？

14. https和http的区别？

15. Socket有了解吗？

    **Socket相关面试题**：

    Socket是对TCP/IP协议簇的一种封装，是应用层与TCP/IP协议簇通信的中间软件抽象层。

    TCP和UDP的区别：

    1. TCP提供面向连接的传输，通信前要先建立连接（三次握手机制）；UDP提供无连接的传输，通信前不需要建立连接；
    2. TCP提供可靠的传输（有序、无差错、不丢失、不重复）；UDP提供不可靠的传输；
    3. TCP是面向字节流的传输，所以能将信息分隔成组，并在接收端将其重组；UDP是面向数据报的传输，没有分组开销；
    4. TCP提供拥塞控制和流量控制机制；UDP不提供拥塞控制和流量控制机制

16. 长连接和短连接的区别？HTTPS是长连接吗？

    在HTTP/1.0中，默认使用短连接。就是浏览器和服务器每进行一次HTTP操作，都会建立一次连接，任务结束后就会断开连接。

    在HTTP/1.1中。默认使用长连接。使用长连接的情况下，当某个网页打开完毕之后，客户端和服务器之间的TCP连接不会关闭，如果客户端再次访问该服务器上的网页，会使用上一次已经建立的连接。但是长连接不是永久的连接，它有一个保持时间

17. Activity生命周期？切换横竖屏的生命周期？

    切换横竖屏的生命周期：

    `onPause`$\rightarrow$ `onSaveInstanceState`$\rightarrow$ `onStop`$\rightarrow$ `onDestory`$\rightarrow$ `onCreate`$\rightarrow$ `onStart`$\rightarrow$ `onRestoreInstanceState`$\rightarrow$ `onResume`

18. 进程和线程的区别是什么？

19. 介绍下快排，时间复杂度？

20. 如何快速找到一个单链表的中间节点？

    快慢指针法。当快指针遍历完整个链表后，慢指针才遍历到一半的链表，则正好是单链表中间节点的位置。

## 阿里飞猪

1. 自我介绍

2. 问项目相关的。第一个项目，一个做还是团队？练手的还是可以商用的？你做了其中的哪几个部分？给我讲一下，然后看一下代码的风格；

3. 第二项目，这个其中的文章是通过url打开webview实现的吗？介绍其中用到的框架？为什么要用这些网络框架，不用自带的网络请求方式？网络框架这么多，为什么选用这个框架？

    Retrofit是一个封装了Http请求的框架，底层的网络请求也是使用OkHttp实现的。使用它主要是能与RxJava配合使用。

    它的原理大致是：

    > 1. 通过建造者模式构建一个Retrofit实例，配置baseUrl，convertfactory（用来将请求的结果转化为特定的对象，例如GsonConverterFactory）等；
    > 2. 通过Retrofit对象的create(Class<T> service)方法返回一个Service的动态代理对象，在调用service的方法时去调用动态代理的invoke方法；
    > 3. invoke方法会把method进行解析，解析我们在接口中配置的各种注解，最后构造成ServiceMethod对象，并将结果缓存起来，下次调用就不用再解析了。ServiceMethod对象可以生成Request对象，将对象注入到OkHttpCall中，然后通过callAdapter转化为用户希望得到的返回对象，默认直接返回Call对象。
    > 4. 得到Call对象之后，再调用execute或者enqueue方法，前者是同步请求，后者异步请求，这个方法里面就封装了OkHttp的方法。

4. Glide框架你了解多少，大概是怎么实现的？缓存机制有几级缓存？

    Glide的缓存机制分为2种缓存，一种是内存缓存，一种是磁盘内存。

    用内存缓存的原因是：防止应用重复将图片读入到内存中，造成内存资源浪费；

    用内存缓存的原因是：防止应用重复的从网络或者其它地方下载和读取数据；

    **缓存机制中有三级缓存原理**：

    读取一张图片的时候，获取顺序：Lru算法缓存$\rightarrow$ 弱引用缓存$\rightarrow$ 磁盘缓存（如果设置了）。

    > 当想要加载某些图片的时候，先去LruCache中寻找图片，如果LruCache中有图片，就直接取出来用，并将图片放入到WeakReference中，如果LruCache中没有，则去WeakReference中寻找，如果WeakReference中有，就从WeakReference中取出图片使用，如果WeakReference中没有图片，那么就从磁盘缓存/网络中加载图片。

5. 如果有一张100M的图片，直接打开肯定会造成OOM，那么要怎么实现才能打开？

    得将该图片进行压缩，可以使用`BitmapFactory`这个类。首先，获取远图片的大小（这里是100M），然后获取要显示这个图片的控件比如`ImageView`的大小，然后可以计算出图片和控件的比例，根据这一比例，将图片压缩为适合显示的大小。

6. 第三个项目，介绍一个。其中的生成二维码是在端生成吗？

7. Activity的生命周期。假设一个场景，用户按Home键回到桌面后，在后台久了之后点击icon打开这个应用，这个Activity已经被杀掉，那么打开应用后怎么重新恢复到杀掉前的Activity？

    Android系统的回收机制提供了`onSaveInstanceState(Bundle outState)`和`onRestoreInstanceState(Bundle savedInstanceState)`方法用于保存和恢复数据。

    这两个方法主要会在Activty被系统回收，又重新创建了一个新的Activity的时候调用，可能是以下几种情况：

    1. 当用户按下HOME键时
    2. 按下电源锁屏键
    3. 从最近应用中运行其它程序
    4. 从当前Activity启动一个新的Activity
    5. 屏幕方向切换（竖屏切横屏或者横屏切竖屏）

    异常生命周期大概如下：

    1. 当Activity被系统自动回收时，`onPause()`$\rightarrow$`onSaveInstanceState()`$\rightarrow$`onStop()`$\rightarrow$`onDestory()`$\rightarrow$`onCreate()`$\rightarrow$`onStart()`$\rightarrow$`onRestoreInstanceState()`$\rightarrow$`onResume()`
    2. 当Activity是用户主动销毁，比如按下back键或者调用`finish()`方法的话，就不会在`onPause()`和`onStop()`方法中调用`onSaveInstanceState()`方法，所以就是`onCreate()`$\rightarrow$`onStart()`$\rightarrow$`onRestoreInstanceState()`方法重新创建Activty，其中恢复数据是用`onRestoreInstanceState()`方法中的`Bundle`参数恢复。

8. 关于RecyclerView，假设一个场景，如果item有不同的类别从而要显示不同的样式，怎么显示？

    `RecyclerViewAdapter`要继承`RecyclerView.Adapter<ViewHolder>`这个类，重写三个方法：`onCreateViewHolder(ViewGroup parent, int viewType)`、`onBindViewHolder(ViewHolder holder, int position)`和`getItemCount()`这三个方法，其中的`onCreateViewHolder`中可以根据`viewType`的类型去加载不同的布局。

9. 有没有写过自定义View？

    自定义View要实现三个方法，按照执行顺序依次是`onMeasure()`$\rightarrow$`onLayout()`$\rightarrow$`onDraw()`。其中，`onDraw()`方法必须要重写，因为这个方法是用来绘制View图像的。如果要改变View的大小，就重写`onMeasure()`方法；如果要改变View在父控件中的位置，就要重写`onLayout()`方法。

10. `public`、`protected`和`private`的区别

    `public`可以被其它任何类访问；`private`只能自己访问和自己内部的成员访问；`protected`就是自身、子类和同一个包中的类都可以访问；默认就是同一个包中的类都可以访问。

11. 接口和抽象类的异同？让一个类不能被其它类继承怎么做？

    * 接口中的方法都是抽象的，抽象类中可以有抽象方法也可以有非抽象方法
    * 类可以实现多个接口，但只能继承一个抽象类
    * Java接口声明的变量默认都是`final`的
    * 如果一个类不实现抽象类或者接口中的全部方法，那么它必须也是抽象的；反之，它必须实现所有方法
    * 接口和抽象类都不能实例化

12. 有用过final修饰吗？final能修饰类吗？

    * `final`修饰类表示此类不能被继承，不能拥有自己的子类
    * `final`修饰方法表示此方法不能重写
    * `final`修饰变量表示一旦定义并在首次为其显示初始化之后，`final`修饰的变量值就不可被改变

13. 介绍一下Java的引用

## 三七互娱

其实我的毕业时间并不满足三七互娱的春招要求，但是还是收到了三七互娱的笔试机会。

### 选择题

1. 一个n个节点的二叉树，每个节点要么没有子节点要么两个子节点，问树的最大高度？

    这里容易混淆高度和深度的区别，不过不影响，因为**树的高度和深度是相等的**。高度是从下往上数，深度是从上往下数。例如：

    ![](https://raw.githubusercontent.com/HurleyJames/ImageHosting/master/20140416102722296.png)

    这里G的高度为3，B的深度为2。所以这里答案应该是$(n+1)/2$。

2. android判断手机电池状态级别的广播action？

    `ACTION_BATTERY_CHANGED`

3. 以下是<font color="red">私有IP地址</font>的是？

    私有IP地址的范围：

    * A类私有IP地址：**10.0.0.0~10.255.255.255**
    * B类私有IP地址：**172.16.0.0~172.31.255.255**
    * C类私有IP地址：**192.168.0.0~192.168.255.255**

4. 软件测试的目的？

    证明软件存在缺陷，使软件中的缺陷降低到一定程度

5. <font color="red">Arraylist与linkedlist查找、添加删除区别</font>？

    ArrayList的实现是通过数组，LinkedList的实现是通过链表，ArrayList适用于查找，LinkedList适合增删改。

6. <font color="red">HashMap与HashTable键值是否为空</font>？

    HashMap对象的key和value均可为`null`，HashTable对象的key和value均不可为`null`。HashTable是Java中的遗留类，目前不太实用。而HashMap的设计者认为`null`作为key和value是有实际意义的，所以允许其为`null`。

7. activity的分类是什么？

    ![](https://raw.githubusercontent.com/HurleyJames/ImageHosting/master/20171205094147274.jpeg)

8. 数据库删除test表的语句？

    这道选择的选项中有`drop`和`delete`和`truncate`。通过查询，发现：

    * `drop`：是删除表test，并释放空间，将test完全删除
    * `truncate`：删除表test中的内容，并释放空间，但是不删除表的定义，表结构还有，所以test表还在，只是内容为空
    * `delete`：可以删除指定数据，也可以删除整个表。如果删除表也是仅删除表test内的所有内容，保留表的定义，也不释放空间

9. <font color="red">针对二叉查找树增加、删除、查找的最坏时间复杂度</font>

10. <font color="red">jvm垃圾回收器</font>有哪些？

    常见的垃圾回收器分为3类：

    1. 新生代垃圾回收器：Serial、ParNew、Parallel Scavenge
    2. 新生代和老年代垃圾回收器：Serial Old、Parallel Old、CMS
    3. 老年代垃圾回收器：G1收集器

11. ContentProvider的作用是？

    跨进程通信，不同应用之间可以互相访问对应的数据库

12. 袋子里有2个红球，3个绿球，2个蓝球，从中取两个，求一个蓝球都没有的概率？

13. xml布局文件放在哪个目录下

    `res/layout`

14. ABCDEF依次入栈，出栈序列为CBDFEA，问栈的最小容量

15. 数组未初始化就输出的结果

    ```java
    int[] a = new int[2];
    System.out.println(a[0]);
    System.out.println(a[1]);
    ```

15. 类未构造访问其成员变量的结果

    ```java
    class T {
        int t;
    }
    T t;
    System.out.println(t.n);
    ```

### 算法题

2道算法题全部来自Leetcode。

1. 买卖股票问题求最大利润
2. 求岛屿的周长

## Taptap

1. 自我介绍

2. 为什么不做人工智能方向

3. 介绍自己的实习经历，都负责了什么

4. 接触Android多久了，Android最新的版本号是什么，<font color="red">Android10相对Android9改进</font>了什么？

    Android10，暗黑模式、更安全的位置权限获取等。

5. 讲一讲实习中接触到的网络封装类的用法

6. <font color="red">Activity的生命周期</font>

    这是面试必问问题，虽然不深究的话其实不难，但是我总感觉我的回答每次都差点意思。

    ![](https://raw.githubusercontent.com/HurleyJames/ImageHosting/master/347621596238419942633901667161718750.jpg)

    

    1. Activity启动：`onCreate()`$\rightarrow$`onStart()`$\rightarrow$`onResume()`

    2. `onCreate()`：表示Activity正在被创建，在这个方法里可以进行一些初始化操作，比如加载布局资源，初始化Activity所需数据等
    3. `onStart()`：意味着Activity已经启动了，Activity已经可见，但是还没有处于前台，还不能与用户进行交互
    4. `onResume()`：表示Activity可见并显示在了前台，可以与用户进行交互
    5. 当用户摁下返回键或者Home键：`onPause()`$\rightarrow$`onStop()`
    6. `onPause()`：让Activity仍然处于可见状态，但是不可与用户进行交互
    7. `onStop()`：Activity不可见，处于停止状态。当内存紧张时，Activity会被回收
    8. 当用户重新打开或者回到该Activity时：`onRestart()`$\rightarrow$`onStart()`$\rightarrow$`onResume()`
    9. `onResume()`：这里的`onResume()`表示Activitiy重新由不可见状态变为可见状态
    10. 退出当前Activity：`onPause()`$\rightarrow$`onStop()`$\rightarrow$`onDestory()`
    11. `onDestory()`：表示该Activity被销毁，可以在此方法中进行一些资源的释放或者回收

    **Activity的四种状态**：

    * running状态：Activity处于活跃状态，位于Activitiy返回栈的栈顶
    * paused状态：Activity仍然可见，但是不能与用户交互，比如表面覆盖了一层，此时这个Activity的状态信息和成员变量等都是保存的；但当内存紧张时，这个Activity会被回收
    * stopped状态：Activity完全不可见，比如被另外一个Activity覆盖了，但是它的状态信息和成员变量还是被保存的；当内存紧张时，这个Activity会被回收
    * killed状态：Activity被系统回收，它保存的信息和成员变量也被回收

7. <font color="red">http和https的区别，越详细越好，用到了什么加密算法</font>？

    因为超文本传输协议HTTP协议以明文形式发送内容，不提供任何方式的数据加密，所以不适合传递一些敏感信息，例如银行卡号、密码等信息。所以采用安全套接字层超文本传输协议HTTPS。HTTPS在HTTP的基础之上，加入了SSL协议，SSL依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。

    * https协议需要到ca申请证书，一般免费证书较少，所以是需要一定费用。
    * http是超文本传输协议，信息是明文传输，https则是具有安全性的SSL加密传输协议。
    * http和https使用的是完全不同的连接方式，用到的端口也不一样，前者是80，后者是443。
    * http连接简单，无状态；https协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

    SSL协议是一种安全保密协议，在浏览器和服务器之间构造安全通道来进行数据传输，SSL运行在TCP/IP层之上，应用层之下，为应用程序提供加密数据通道。它采用了RC4、MD5和RSA的加密算法。

    HTTPS的工作原理：[详细解析HTTP与HTTPS的区别](https://juejin.im/entry/58d7635e5c497d0057fae036)

8. <font color="red">自定义View要用到哪些方法</font>，有没有写过什么自定义控件

    自定义View可以重写三个方法：`onDraw()`、`onMeasure()`、`onLayout()`。其中，`onDraw()`方法必须要重写，因为这个方法是用来绘制View图像的。如果要改变View的大小，就重写`onMeasure()`方法；如果要改变View在父控件中的位置，就要重写`onLayout()`方法。

## 堆糖

这是大四时找实习的面试。

1. 自我介绍

2. 介绍一个自己实际动手做过的项目与项目中遇到的问题

3. Volley的原理

    已在Notion中记录。

4. OOM内存溢出的解决办法

    已在Notion中记录。

5. Activity的生命周期

6. <font color="red">Activity的四种启动方式</font>

7. Spring的机制特征，解释一下依赖注入、IOC容器和AOP面向切面编程

8. Spring的依赖注入与ButterKnife依赖注入是否相同或者不同的话有何区别

9. Android滑动遇到的冲突，比如NavigationView与ViewPager的冲突

10. 是否写过BaseActivity

11. ANR错误的原因

    已在Notion中记录。

12. View的绘制机制，自定义View的方法















